name: issues

on:
  issues:
    types: [opened, reopened, closed]

jobs:
  irc:
    runs-on: ubuntu-latest
    steps:
      -
        name: notify-new
        uses: rectalogic/notify-irc@v1
        if: github.event.issue.state == "open"
        with:
          server: chat.freenode.net
          channel: "#calamares"
          nickname: gh-issues
          message: "[${{ github.event.issue.title }}](${{ github.event.issue.url }}) opened by ${{ github.actor }}"
      -
        name: notify-closed
        uses: rectalogic/notify-irc@v1
        if: github.event.issue.state != "open"
        with:
          server: chat.freenode.net
          channel: "#calamares"
          nickname: gh-issues
          message: "[${{ github.event.issue.title }}](${{ github.event.issue.url }}) closed by ${{ github.actor }}"
